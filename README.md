# CL
my code

爬取CL网的程序
主要是爬去DGE的旗帜里面所有帖子的图片

主要问题：
CL网 帖子页面 图片页面 全都要加请求头 不然回得到一个403 特别恶心
在连接CL网时候 添加了请求头还是没有用 只好用Selenium来打开浏览器去打开网站
所以就一直用Selenium来打开浏览器->打开帖子，获得所有图片的url->打开图片页面，下载图片->重复上述步骤，翻页等等
Selenuim的作用就只是得到网站的html而已
开了10个线程来爬 因为每个线程要开一个浏览器的 效率过得去吧

自己无聊写了一下
把所有url读入数组中，然后再分成10份txt文件，然后分别开10个线程来爬
结果很是很慢很慢。

一个改进的办法
直接用Selenium打开帖子页面来获取图片的URL就好，保存在txt文件中，不用再打开一张张图片页面，快很多
一下子就下载到了600W+张图片的地址
然后把这些URL交给webmagic 再配上自己写的 加了请求头的下载图片函数，开n多个线程，java后台会运行的，效率超快！！！！




整个是webmagic的文件夹 ，运行在webmagic-selenium下面，懒得自己弄环境，直接在他那加了代码
GetImage.java是下载图片的类
GetUrl是自己写的将图片url分10分，在开10ge线程跑的程序

用Selenium 要 一个chromedriver

等等

